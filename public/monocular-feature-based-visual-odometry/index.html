

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>Monocular Feature-Based Visual Odometry - jackyyeh</title><meta name="Description" content="This is our final project for course CS543 in 2023 Fall"><meta property="og:title" content="Monocular Feature-Based Visual Odometry" />
<meta property="og:description" content="This is our final project for course CS543 in 2023 Fall" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jackyyeh5111.github.io/monocular-feature-based-visual-odometry/" /><meta property="og:image" content="https://jackyyeh5111.github.io/images/avatar.webp" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T21:29:01+08:00" />
<meta property="article:modified_time" content="2024-01-10T19:09:36-06:00" /><meta property="og:site_name" content="Hugo DoIt Theme Documentation" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://jackyyeh5111.github.io/images/avatar.webp" /><meta name="twitter:title" content="Monocular Feature-Based Visual Odometry"/>
<meta name="twitter:description" content="This is our final project for course CS543 in 2023 Fall"/>
<meta name="application-name" content="jackyyeh">
<meta name="apple-mobile-web-app-title" content="jackyyeh">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://jackyyeh5111.github.io/monocular-feature-based-visual-odometry/" /><link rel="prev" href="https://jackyyeh5111.github.io/real-time-web-based-face-mask-detection/" /><link rel="next" href="https://jackyyeh5111.github.io/life-bus/" />
<link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/color.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><meta name="google-site-verification" content="MQ8DNu27ayX6B_4ObiEDK09vGr1fdy7kOAnbd09hJk4" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Monocular Feature-Based Visual Odometry",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://jackyyeh5111.github.io/monocular-feature-based-visual-odometry/"
        },"image": ["https://jackyyeh5111.github.io/images/Apple-Devices-Preview.png"],"genre": "posts","wordcount":  652 ,
        "url": "https://jackyyeh5111.github.io/monocular-feature-based-visual-odometry/","datePublished": "2024-01-02T21:29:01+08:00","dateModified": "2024-01-10T19:09:36-06:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https://jackyyeh5111.github.io/images/avatar.webp",
                    "width":  640 ,
                    "height":  640 
                }},"author": {
                "@type": "Person",
                "name": "PCloud"
            },"description": "This is our final project for course CS543 in 2023 Fall"
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark'); window.theme = theme;   window.isDark = window.theme !== 'light' }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="jackyyeh"><img
        class="logo"
        loading="lazy"
        src="https://hugodoit.pages.dev/images/avatar.webp"
        srcset="https://hugodoit.pages.dev/images/avatar.webp, https://hugodoit.pages.dev/images/avatar.webp 1.5x, https://hugodoit.pages.dev/images/avatar.webp 2x"
        sizes="auto"
        alt="https://hugodoit.pages.dev/images/avatar.webp"
        title="https://hugodoit.pages.dev/images/avatar.webp" ><span id="desktop-header-typeit" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/showcase/"> Projects </a><a class="menu-item" href="/experience/"> Experience </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-select" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="Switch Theme">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="black">Black</option>
                        <option value="auto">Auto</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="jackyyeh"><img
        class="logo"
        loading="lazy"
        src="https://hugodoit.pages.dev/images/avatar.webp"
        srcset="https://hugodoit.pages.dev/images/avatar.webp, https://hugodoit.pages.dev/images/avatar.webp 1.5x, https://hugodoit.pages.dev/images/avatar.webp 2x"
        sizes="auto"
        alt="https://hugodoit.pages.dev/images/avatar.webp"
        title="https://hugodoit.pages.dev/images/avatar.webp" ><span id="mobile-header-typeit" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/showcase/" title="">Projects</a><a class="menu-item" href="/experience/" title="">Experience</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-select" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="Switch Theme">
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                    <option value="black">Black</option>
                    <option value="auto">Auto</option>
                </select>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" title="Select Language" onchange="location = this.value;"><option value="/monocular-feature-based-visual-odometry/" selected>English</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">Contents</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#demo">Demo</a></li>
    <li><a href="#problem-definition">Problem Definition</a>
      <ul>
        <li><a href="#input">Input</a></li>
        <li><a href="#output">Output</a></li>
      </ul>
    </li>
    <li><a href="#approach-outline">Approach Outline</a></li>
    <li><a href="#feature-detection">Feature Detection</a></li>
    <li><a href="#feature-matching--tracking">Feature Matching / Tracking</a></li>
    <li><a href="#motion-estimation">Motion Estimation</a></li>
    <li><a href="#dataset">Dataset</a></li>
    <li><a href="#future-work">Future Work</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Monocular Feature-Based Visual Odometry</h1><div class="post-meta">
            <div class="post-meta-line">
                </div>
            <div class="post-meta-line">
                <i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2024-01-10">2024-01-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;652 words&nbsp;<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#demo">Demo</a></li>
    <li><a href="#problem-definition">Problem Definition</a>
      <ul>
        <li><a href="#input">Input</a></li>
        <li><a href="#output">Output</a></li>
      </ul>
    </li>
    <li><a href="#approach-outline">Approach Outline</a></li>
    <li><a href="#feature-detection">Feature Detection</a></li>
    <li><a href="#feature-matching--tracking">Feature Matching / Tracking</a></li>
    <li><a href="#motion-estimation">Motion Estimation</a></li>
    <li><a href="#dataset">Dataset</a></li>
    <li><a href="#future-work">Future Work</a></li>
  </ul>
</nav></div>
            </div><hr><div class="content" id="content"><style>
    figure {
      padding: 4px;
      text-align: center;
      margin: auto;
    }

    figcaption {
      background-color: black;
      color: white;
      font-style: italic;
      padding: 1px;
      text-align: center;
    }

    .github {
        margin-top: 20px;
        margin-bottom: 20px;
        background-color: black;
        padding: 6px;
        color: white;
        text-align: center;
        transition-duration: 0.4s;
    }
    .github:hover {
        background-color: #5c666f;
    }
</style>
<button class="github">
    <a href="https://github.com/jackyyeh5111/Explore-Visual-Odometry-Method-using-Monocular-Camera" style="color: white"><i class="fab fa-github mr-1"></i> Github Repository </a>
</button>
<p>This is the final project for <a href="http://luthuli.cs.uiuc.edu/~daf/courses/CV23/CV23.html" target="_blank" rel="noopener noreferrer">UIUC CS543 course</a>. Inspired from this great <a href="https://avisingh599.github.io/vision/monocular-vo/" target="_blank" rel="noopener noreferrer">post</a>, my partner and I are determined to work on something related to visual odometry. Visual odometry is actually an another way to describe camera trajectory. The applications of which extend across various domains, serving as a foundational component for Visual Simultaneous Localization and Mapping (SLAM) systems.</p>
<p><strong>Figure 1</strong> shows the typical pipeline for 2D-2D visual odometry. We conducted experiments at each stage to assess the significance of individual components except for the optimization(future work!).</p>
<figure style="text-align: center">
  <img src="https://github.com/jackyyeh5111/jackyyeh5111.github.io/assets/22386566/842a29b8-5c34-4b0b-acd3-fe6d2e12615d" width=500 />
  <figcaption>Figure 1: Visual odometry pipeline</figcaption>
</figure>
<p>For those who are not familar with what visual odometry is or what 2D-2D means, please check my previous <a href="https://hackmd.io/@jackyyeh/H12xz-bPT" target="_blank" rel="noopener noreferrer">article</a> for detailed introduction.</p>
<h2 id="demo" class="headerLink">
    <a href="#demo" class="header-mark"></a>1 - Demo</h2><figure>
<img src="https://github.com/jackyyeh5111/jackyyeh5111.github.io/assets/22386566/f0ebf1fc-1dca-4808-ada1-c94ee6ac4ef8" />
</figure>
<h2 id="problem-definition" class="headerLink">
    <a href="#problem-definition" class="header-mark"></a>2 - Problem Definition</h2><h3 id="input" class="headerLink">
    <a href="#input" class="header-mark"></a>Input</h3><p>A monocular camera captures a continuous stream of grayscale images. The frames captured at time $t$ and $t+1$ can be denoted as $I_{t}$ and $I_{t+1}$ respectively. Note that we have prior knowledge for all intrinsic parameters of the camera.</p>
<h3 id="output" class="headerLink">
    <a href="#output" class="header-mark"></a>Output</h3><p>For every pair of frames, find the rotation matrix $\textbf{R}$ and the translation vector $\textbf{t}$, which represents the camera motion between the two frames. Note that the vector $\textbf{t}$ can only be computed <a href="https://stackoverflow.com/questions/17114880/up-to-a-scale-factor" target="_blank" rel="noopener noreferrer">up to a scale factor</a> in the monocular scheme.</p>
<h2 id="approach-outline" class="headerLink">
    <a href="#approach-outline" class="header-mark"></a>3 - Approach Outline</h2><ol>
<li>Receive image sequence $I_{t}, I_{t+1}$.</li>
<li>Feature detection</li>
<li>Feature matching or Feature tracking
<ul>
<li>Feature matching: detect features in $I_{t}, I_{t+1}$ and match them.</li>
<li>Feature tracking: detect features in $I_{t}$ and track those features to $I_{t+1}$ . A new detection is triggered if the number of features drop below a certain threshold.</li>
</ul>
</li>
<li>Compute the camera pose by motion estimation.</li>
</ol>
<h2 id="feature-detection" class="headerLink">
    <a href="#feature-detection" class="header-mark"></a>4 - Feature Detection</h2><p>The feature detection component in monocular visual odometry plays a crucial role in identifying distinctive points across subsequent frames. In this project, we explored various feature detectors including SIFT, ORB, FAST, and BRIEF. Each of these detectors has its own strengths and weaknesses. Experiment results are placed in the result section.</p>
<h2 id="feature-matching--tracking" class="headerLink">
    <a href="#feature-matching--tracking" class="header-mark"></a>5 - Feature Matching / Tracking</h2><p>Both feature tracking and feature matching aims to <strong>find correspondences</strong> of feature point sets across subsequent frames. With enough corresponding feature pairs, we are able to compute the essential matrix described in next section. Both is imeplemented in this project:</p>
<ol>
<li><strong>Feature Matching</strong> (<a href="https://docs.opencv.org/3.4/dc/dc3/tutorial_py_matcher.html" target="_blank" rel="noopener noreferrer">opencv tutorial</a>)
Here we tested two matchers: Brute-Force and FLANN (Fast Library for Approximate Nearest Neighbors) implemented in OpenCV. Brute-Force matcher is straightforward. It takes the descriptor of one feature in the first set and matches it with all other features in the entire second set using a distance calculation. On the other hand, FLANN is designed for fast nearest neighbor search in large datasets with high-dimensional features.</li>
</ol>
<figure style="text-align: center">
  <img src="https://github.com/jackyyeh5111/jackyyeh5111.github.io/assets/22386566/fc9362f9-7b74-406f-ad80-d4c837827117" width=500 />
  <figcaption>Figure 2: Feature matching</figcaption>
</figure>
<ol start="2">
<li><strong>Feature Tracking</strong> (<a href="https://docs.opencv.org/3.4/db/d7f/tutorial_js_lucas_kanade.html" target="_blank" rel="noopener noreferrer">opencv tutorial</a>)
Here we applied Lucas–Kanade method for optical flow tracking. This method operates under the assumption that the flow remains relatively constant in a local neighborhood around the pixel being considered.</li>
</ol>
<figure style="text-align: center">
  <img src="https://github.com/jackyyeh5111/jackyyeh5111.github.io/assets/22386566/1c376dcf-4a2e-4dc6-b3e4-eb8d1f17cea5" width=500 />
  <figcaption>Figure 3: Optical flow</figcaption>
</figure>
<h2 id="motion-estimation" class="headerLink">
    <a href="#motion-estimation" class="header-mark"></a>6 - Motion Estimation</h2><p>Motion estimation determines the movement of a camera through a sequence of images. It can actually be divided into three sub-steps:</p>
<ol>
<li>Estimate essential matrix (<a href="https://hackmd.io/@jackyyeh/Hkk6MrqIT" target="_blank" rel="noopener noreferrer">detailed post</a>)
Several techniques can be used for the computation of an essential matrix. Here we implemented Nister’s 5-point and 8-point algorithm with RANSAC.</li>
<li>Decompose $R, t$ from the essential matrix (<a href="https://hackmd.io/@jackyyeh/Hkk6MrqIT" target="_blank" rel="noopener noreferrer">detailed post</a>)
Decomposition can be done by the equations:</li>
</ol>
<p>$$ E = [t_{\times}]R = U \Sigma V^{T} = [u_{1} \ u_{2} \ u_{3}] \Sigma V^{T} $$
$$ t_{\times} = u_{3} $$
$$ R = UYV^{T} $$</p>
<figure style="text-align: center">
  <img src="https://github.com/jackyyeh5111/jackyyeh5111.github.io/assets/22386566/ba143ad7-7bbb-4112-8015-882f0640ef73" width=300 />
  <figcaption>Figure 4: Camera pose transformation</figcaption>
</figure>
<ol start="3">
<li>Recover the visual odometry
With relative transformation matrices $R, t$ between two frames, we can easily get the camera pose of new frame:
$$ R_{i+1} = RR_{i} $$
$$ t_{i+1} = \text{scale} \times Rt + t_{i} $$
where scale factor we will never know in the monocular scheme. In my implementation, I just use the ground truth that KITTI dataset provides.</li>
</ol>
<h2 id="dataset" class="headerLink">
    <a href="#dataset" class="header-mark"></a>7 - Dataset</h2><p>Kitti sequence 00 (<a href="https://www.cvlibs.net/datasets/kitti/eval_odometry.php" target="_blank" rel="noopener noreferrer">link</a>)</p>
<h2 id="future-work" class="headerLink">
    <a href="#future-work" class="header-mark"></a>8 - Future Work</h2><ul>
<li><i class="far fa-square fa-fw"></i> Integrate graph optimization</li>
<li><i class="far fa-square fa-fw"></i> Superpoint</li>
</ul>
</div>

        
    </article></div>
        </main></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="Back to Top">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.css">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"></noscript><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"desktop-header-typeit":"Jacky Yeh's Website","mobile-header-typeit":"Jacky Yeh's Website"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"5YGRNRQK1G","algoliaIndex":"en_index","algoliaSearchKey":"0ff6874805de24b84aa1d5ebccad56cd","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":300,"type":"algolia"},"sharerjs":true,"table":{"sort":true},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js" defer></script><script type="text/javascript" src="/lib/katex/auto-render.min.js" defer></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js" defer></script><script type="text/javascript" src="/lib/katex/mhchem.min.js" defer></script><script type="text/javascript" src="/js/katex.min.js" defer></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>
</body>

</html>
